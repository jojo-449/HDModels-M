// // // function bookViaWhatsApp(modelId, category) {
// //   const model = window.currentModelForBooking;

// //   // âœ… Get selected shoot types
// //   const selectedShootTypes = Array.from(document.querySelectorAll('input[name="shootType"]:checked')).map(cb => cb.value);

// //   // âœ… Get booking inputs
// //   const date = document.getElementById('bookingDate')?.value || 'N/A';
// //   const time = document.getElementById('bookingTime')?.value || 'N/A';
// //   const requirements = document.getElementById('modelRequirements')?.value.trim() || 'None specified';

// //   // âœ… Duration fix (handles dropdown or radio)
// //   let duration = 'N/A';
// //   const selectEl = document.querySelector('select[id$="-duration-select"]');
// //   const radioEl = document.querySelector('input[type="radio"][name$="-duration"]:checked');

// //   if (selectEl && selectEl.value) {
// //     duration = selectEl.value === 'fullday' ? 'Full Day (9 AM - 5 PM)' : '5 Hours';
// //   } else if (radioEl && radioEl.value) {
// //     duration = radioEl.value === 'full-day' ? 'Full Day (9 AM - 5 PM)' : '5 Hours';
// //   }

// //   // âœ… Specific requirements per shoot type
// //   let specificRequirements = '';
// //   selectedShootTypes.forEach(type => {
// //     const reqBox = document.getElementById(`${type.toLowerCase()}-requirements`);
// //     if (reqBox && reqBox.style.display === 'block') {
// //       const reqText = reqBox.querySelector('textarea').value;
// //       if (reqText) specificRequirements += `\n${type} Requirements: ${reqText}`;
// //     }
// //   });

// //   // âœ… Client info
// //   // âœ… Get client IG handle safely
// // let clientHandle = 'Client';
// // const savedUser = JSON.parse(localStorage.getItem('currentUser')) || {};
// // if (savedUser.username) clientHandle = savedUser.username;
// // else if (savedUser.instagram) clientHandle = savedUser.instagram;
// // else if (savedUser.name) clientHandle = savedUser.name;

// //   // âœ… WhatsApp message
// //   const bookingMessage = `Hi! I'd like to book ${model.name} (${category} model).

// // ðŸ“… Date: ${date}
// // â° Time: ${time}
// // âŒ› Duration: ${duration}
// // ðŸŽ¬ Shoot Type(s): ${selectedShootTypes.join(', ')}
// // ðŸ“ Requirements: ${requirements}
// // ${specificRequirements}
// // Client: @${clientHandle}`;

// //   // âœ… Open WhatsApp with your custom link
// //   const whatsappUrl = `https://wa.me/2348146518310?text=${encodeURIComponent(bookingMessage)}`;
// //   window.open(whatsappUrl, '_blank');

// //   // âœ… Save booking to history
// //   bookingManager.addBooking({
// //     clientInstagram: '@' + clientHandle,
// //     modelName: model.name,
// //     modelCategory: category,
// //     shootTypes: selectedShootTypes,
// //     shootDate: date,
// //     shootTime: time,
// //     duration: duration,
// //     requirements: requirements,
// //     specificRequirements: specificRequirements,
// //     platform: 'WhatsApp'
// //   });

// //   closeEnhancedModal();
// // }





  
// function bookViaInstagram(modelId, category) {
//   const model = window.currentModelForBooking;

//   // âœ… Get selected shoot types
//   const selectedShootTypes = Array.from(document.querySelectorAll('input[name="shootType"]:checked')).map(cb => cb.value);

//   // âœ… Get booking inputs
//   const date = document.getElementById('bookingDate')?.value || 'N/A';
//   const time = document.getElementById('bookingTime')?.value || 'N/A';
//   const requirements = document.getElementById('modelRequirements')?.value.trim() || 'None specified';

//   // âœ… Duration fix
//   let duration = 'N/A';
//   const selectEl = document.querySelector('select[id$="-duration-select"]');
//   const radioEl = document.querySelector('input[type="radio"][name$="-duration"]:checked');

//   if (selectEl && selectEl.value) {
//     duration = selectEl.value === 'fullday' ? 'Full Day (9 AM - 5 PM)' : '5 Hours';
//   } else if (radioEl && radioEl.value) {
//     duration = radioEl.value === 'full-day' ? 'Full Day (9 AM - 5 PM)' : '5 Hours';
//   }

//   // âœ… Specific requirements
//   let specificRequirements = '';
//   selectedShootTypes.forEach(type => {
//     const reqBox = document.getElementById(`${type.toLowerCase()}-requirements`);
//     if (reqBox && reqBox.style.display === 'block') {
//       const reqText = reqBox.querySelector('textarea').value;
//       if (reqText) specificRequirements += `\n${type} Requirements: ${reqText}`;
//     }
//   });

//   // âœ… Client info
//   // âœ… Get client IG handle safely
// let clientHandle = 'Client';
// const savedUser = JSON.parse(localStorage.getItem('currentUser')) || {};
// if (savedUser.username) clientHandle = savedUser.username;
// else if (savedUser.instagram) clientHandle = savedUser.instagram;
// else if (savedUser.name) clientHandle = savedUser.name;
//   // âœ… Instagram message
//   const bookingDetails = `Model Booking Request:

// ðŸ‘©â€ðŸŽ¤ Model: ${model.name} (${category})
// ðŸ“… Date: ${date}
// â° Time: ${time}
// âŒ› Duration: ${duration}
// ðŸŽ¬ Shoot Type(s): ${selectedShootTypes.join(', ')}
// ðŸ“ Requirements: ${requirements}
// ${specificRequirements}
// Client: @${clientHandle}`;

//   // âœ… Copy message & open Instagram
//   navigator.clipboard.writeText(bookingDetails).then(() => {
//     alert('Booking details copied! Redirecting to Instagram...');
//     window.open("https://www.instagram.com/hdmodels.co/", "_blank");
//   }).catch(() => {
//     alert('Please copy and send via Instagram DM:\n\n' + bookingDetails);
//     window.open("https://www.instagram.com/hdmodels.co/", "_blank");
//   });

//   // âœ… Save booking
//   bookingManager.addBooking({
//     clientInstagram: '@' + clientHandle,
//     modelName: model.name,
//     modelCategory: category,
//     shootTypes: selectedShootTypes,
//     shootDate: date,
//     shootTime: time,
//     duration: duration,
//     requirements: requirements,
//     specificRequirements: specificRequirements,
//     platform: 'Instagram'
//   });

//   closeEnhancedModal();
// }
